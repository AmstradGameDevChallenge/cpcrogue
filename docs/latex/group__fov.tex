\hypertarget{group__fov}{}\section{Fov}
\label{group__fov}\index{Fov@{Fov}}


Field of View information and management.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__fov_gaa8b3a2290d82ee3c712f6d8eeb0707b5}\label{group__fov_gaa8b3a2290d82ee3c712f6d8eeb0707b5}} 
void \mbox{\hyperlink{group__fov_gaa8b3a2290d82ee3c712f6d8eeb0707b5}{Clear\+Vis\+Map}} ()
\begin{DoxyCompactList}\small\item\em Resets the visibility map to everything {\itshape not visible} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fov_ga6ffddffaee8d99436812e5eea6590d5c}{Set\+Visible}} (u8 x, u8 y)
\begin{DoxyCompactList}\small\item\em Sets a specific tile in the visibility map as visible. \end{DoxyCompactList}\item 
u8 \mbox{\hyperlink{group__fov_ga131c45868e1d0ec18394f271b65a7db6}{is\+Visible}} (u8 x, u8 y)
\begin{DoxyCompactList}\small\item\em Queries a specific visibility map coordinate for visibility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fov_ga2f946adf9ec7ffa8fc9fe95e76945c29}{Trace\+Line}} (u8 x1, u8 y1, u8 x2, u8 y2, u8 range)
\begin{DoxyCompactList}\small\item\em Traces a line between two game map points and updates the F\+OV visibility. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__fov_gad4147656708c4dad3847f926aa415563}{Compute\+L\+OS}} (u8 from\+\_\+x, u8 from\+\_\+y, u8 range)
\begin{DoxyCompactList}\small\item\em Computes {\itshape Light of Sight} from a specific point up to a specific range distance. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This module keeps track of the visible tiles from a specific position. Most of the work in this module is to perform {\itshape L\+OS} calculation and updating the visibility map information. This information is later used by the \mbox{\hyperlink{group__user__interface}{User\+\_\+interface}} module to draw the map accordingly. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__fov_gad4147656708c4dad3847f926aa415563}\label{group__fov_gad4147656708c4dad3847f926aa415563}} 
\index{Fov@{Fov}!ComputeLOS@{ComputeLOS}}
\index{ComputeLOS@{ComputeLOS}!Fov@{Fov}}
\subsubsection{\texorpdfstring{ComputeLOS()}{ComputeLOS()}}
{\footnotesize\ttfamily void Compute\+L\+OS (\begin{DoxyParamCaption}\item[{u8}]{origin\+\_\+x,  }\item[{u8}]{origin\+\_\+y,  }\item[{u8}]{range }\end{DoxyParamCaption})}

Computes Light of Sight from a specific point using basic {\itshape ray-\/casting}. Imaginary “rays” are casted away from the specified position and sent in every direction. If they cross a new tile, it is displayed. If this tile is an obstacle, the rays stop here. Otherwise, it goes through the next tile, and so on.


\begin{DoxyParams}{Parameters}
{\em origin\+\_\+x,origin\+\_\+y} & Starting point, usually player position \\
\hline
{\em range} & Max distance to compute, usually player\textquotesingle{}s field of view \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__fov_ga131c45868e1d0ec18394f271b65a7db6}\label{group__fov_ga131c45868e1d0ec18394f271b65a7db6}} 
\index{Fov@{Fov}!isVisible@{isVisible}}
\index{isVisible@{isVisible}!Fov@{Fov}}
\subsubsection{\texorpdfstring{isVisible()}{isVisible()}}
{\footnotesize\ttfamily u8 is\+Visible (\begin{DoxyParamCaption}\item[{u8}]{x,  }\item[{u8}]{y }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em x,y} & Visibility map coordinates to set as visible\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the tile is visible, 0 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{group__fov_ga6ffddffaee8d99436812e5eea6590d5c}\label{group__fov_ga6ffddffaee8d99436812e5eea6590d5c}} 
\index{Fov@{Fov}!SetVisible@{SetVisible}}
\index{SetVisible@{SetVisible}!Fov@{Fov}}
\subsubsection{\texorpdfstring{SetVisible()}{SetVisible()}}
{\footnotesize\ttfamily void Set\+Visible (\begin{DoxyParamCaption}\item[{u8}]{x,  }\item[{u8}]{y }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em x,y} & Visibility map coordinates to set as visible \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__fov_ga2f946adf9ec7ffa8fc9fe95e76945c29}\label{group__fov_ga2f946adf9ec7ffa8fc9fe95e76945c29}} 
\index{Fov@{Fov}!TraceLine@{TraceLine}}
\index{TraceLine@{TraceLine}!Fov@{Fov}}
\subsubsection{\texorpdfstring{TraceLine()}{TraceLine()}}
{\footnotesize\ttfamily void Trace\+Line (\begin{DoxyParamCaption}\item[{u8}]{x1,  }\item[{u8}]{y1,  }\item[{u8}]{x2,  }\item[{u8}]{y2,  }\item[{u8}]{range }\end{DoxyParamCaption})}

Traces a line between two game map points using {\itshape Bresenham\textquotesingle{}s} line algorithm. For each tile the line {\itshape touches} the F\+OV information is updated. The line is constrained to {\itshape range} distance or the first wall it encounters.


\begin{DoxyParams}{Parameters}
{\em x1,y1} & Origin point coordinates \\
\hline
{\em x2,y2} & Destination point coordinates \\
\hline
{\em range} & Max line Distance (usually F\+OV radius) \\
\hline
\end{DoxyParams}
