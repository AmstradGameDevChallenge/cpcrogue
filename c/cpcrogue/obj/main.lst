                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.8 #9946 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module main
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _main
                             12 	.globl _InitColors
                             13 	.globl _TraceLine
                             14 	.globl _PrintAt
                             15 	.globl _paper
                             16 	.globl _ink
                             17 	.globl _putchar
                             18 	.globl _edy
                             19 	.globl _target
                             20 	.globl _action
                             21 	.globl _new_y
                             22 	.globl _new_x
                             23 	.globl _edx
                             24 	.globl _dy
                             25 	.globl _dx
                             26 	.globl _state
                             27 	.globl _entities
                             28 	.globl _dirty
                             29 	.globl _enemy
                             30 	.globl _player
                             31 ;--------------------------------------------------------
                             32 ; special function registers
                             33 ;--------------------------------------------------------
                             34 ;--------------------------------------------------------
                             35 ; ram data
                             36 ;--------------------------------------------------------
                             37 	.area _DATA
   0000                      38 _player::
   0000                      39 	.ds 33
   0021                      40 _enemy::
   0021                      41 	.ds 33
   0042                      42 _dirty::
   0042                      43 	.ds 5
   0047                      44 _entities::
   0047                      45 	.ds 10
   0051                      46 _state::
   0051                      47 	.ds 1
   0052                      48 _dx::
   0052                      49 	.ds 1
   0053                      50 _dy::
   0053                      51 	.ds 1
   0054                      52 _edx::
   0054                      53 	.ds 10
   005E                      54 _new_x::
   005E                      55 	.ds 1
   005F                      56 _new_y::
   005F                      57 	.ds 1
                             58 ;--------------------------------------------------------
                             59 ; ram data
                             60 ;--------------------------------------------------------
                             61 	.area _INITIALIZED
   0000                      62 _action::
   0000                      63 	.ds 1
   0001                      64 _target::
   0001                      65 	.ds 2
   0003                      66 _edy::
   0003                      67 	.ds 1
                             68 ;--------------------------------------------------------
                             69 ; absolute external ram data
                             70 ;--------------------------------------------------------
                             71 	.area _DABS (ABS)
                             72 ;--------------------------------------------------------
                             73 ; global & static initialisations
                             74 ;--------------------------------------------------------
                             75 	.area _HOME
                             76 	.area _GSINIT
                             77 	.area _GSFINAL
                             78 	.area _GSINIT
                             79 ;--------------------------------------------------------
                             80 ; Home
                             81 ;--------------------------------------------------------
                             82 	.area _HOME
                             83 	.area _HOME
                             84 ;--------------------------------------------------------
                             85 ; code
                             86 ;--------------------------------------------------------
                             87 	.area _CODE
                             88 ;src/main.c:38: void InitColors()
                             89 ;	---------------------------------
                             90 ; Function InitColors
                             91 ; ---------------------------------
   0000                      92 _InitColors::
                             93 ;src/main.c:40: ink (0, INK_BG,INK_BG);
   0000 21 00 00      [10]   94 	ld	hl, #0x0000
   0003 E5            [11]   95 	push	hl
   0004 AF            [ 4]   96 	xor	a, a
   0005 F5            [11]   97 	push	af
   0006 33            [ 6]   98 	inc	sp
   0007 CDr00r00      [17]   99 	call	_ink
                            100 ;src/main.c:41: ink (1, INK_DARK, INK_DARK);
   000A 33            [ 6]  101 	inc	sp
   000B 21 01 01      [10]  102 	ld	hl,#0x0101
   000E E3            [19]  103 	ex	(sp),hl
   000F 3E 01         [ 7]  104 	ld	a, #0x01
   0011 F5            [11]  105 	push	af
   0012 33            [ 6]  106 	inc	sp
   0013 CDr00r00      [17]  107 	call	_ink
                            108 ;src/main.c:42: ink (2, INK_BRIGHT, INK_BRIGHT);
   0016 33            [ 6]  109 	inc	sp
   0017 21 14 14      [10]  110 	ld	hl,#0x1414
   001A E3            [19]  111 	ex	(sp),hl
   001B 3E 02         [ 7]  112 	ld	a, #0x02
   001D F5            [11]  113 	push	af
   001E 33            [ 6]  114 	inc	sp
   001F CDr00r00      [17]  115 	call	_ink
                            116 ;src/main.c:43: ink (3, INK_NORMAL, INK_NORMAL);
   0022 33            [ 6]  117 	inc	sp
   0023 21 0A 0A      [10]  118 	ld	hl,#0x0a0a
   0026 E3            [19]  119 	ex	(sp),hl
   0027 3E 03         [ 7]  120 	ld	a, #0x03
   0029 F5            [11]  121 	push	af
   002A 33            [ 6]  122 	inc	sp
   002B CDr00r00      [17]  123 	call	_ink
                            124 ;src/conio.h:9: putchar (GS);
   002E 33            [ 6]  125 	inc	sp
   002F 21 1D 00      [10]  126 	ld	hl,#0x001d
   0032 E3            [19]  127 	ex	(sp),hl
   0033 CDr00r00      [17]  128 	call	_putchar
                            129 ;src/conio.h:10: putchar (color1); putchar (color1);
   0036 21 00 00      [10]  130 	ld	hl, #0x0000
   0039 E3            [19]  131 	ex	(sp),hl
   003A CDr00r00      [17]  132 	call	_putchar
   003D 21 00 00      [10]  133 	ld	hl, #0x0000
   0040 E3            [19]  134 	ex	(sp),hl
   0041 CDr00r00      [17]  135 	call	_putchar
   0044 F1            [10]  136 	pop	af
                            137 ;src/main.c:45: border (0); paper (0);
   0045 AF            [ 4]  138 	xor	a, a
   0046 F5            [11]  139 	push	af
   0047 33            [ 6]  140 	inc	sp
   0048 CDr00r00      [17]  141 	call	_paper
   004B 33            [ 6]  142 	inc	sp
   004C C9            [10]  143 	ret
                            144 ;src/main.c:65: void main()
                            145 ;	---------------------------------
                            146 ; Function main
                            147 ; ---------------------------------
   004D                     148 _main::
   004D DD E5         [15]  149 	push	ix
   004F 21 00 FF      [10]  150 	ld	hl, #-256
   0052 39            [11]  151 	add	hl, sp
   0053 F9            [ 6]  152 	ld	sp, hl
                            153 ;src/main.c:70: for (ei=0; ei!=5; ++ei) {
   0054 01r54r00      [10]  154 	ld	bc, #_edx+0
   0057 1E 00         [ 7]  155 	ld	e, #0x00
   0059                     156 00109$:
                            157 ;src/main.c:71: edx[ei]=1; edx[9-ei]=-1;
   0059 6B            [ 4]  158 	ld	l,e
   005A 26 00         [ 7]  159 	ld	h,#0x00
   005C 09            [11]  160 	add	hl, bc
   005D 36 01         [10]  161 	ld	(hl), #0x01
   005F 3E 09         [ 7]  162 	ld	a, #0x09
   0061 93            [ 4]  163 	sub	a, e
   0062 6F            [ 4]  164 	ld	l, a
   0063 26 00         [ 7]  165 	ld	h,#0x00
   0065 09            [11]  166 	add	hl, bc
   0066 36 FF         [10]  167 	ld	(hl), #0xff
                            168 ;src/main.c:70: for (ei=0; ei!=5; ++ei) {
   0068 1C            [ 4]  169 	inc	e
   0069 7B            [ 4]  170 	ld	a, e
   006A D6 05         [ 7]  171 	sub	a, #0x05
   006C 20 EB         [12]  172 	jr	NZ,00109$
                            173 ;src/conio.h:14: inline void cls () { putchar (FF); }
   006E 21 0C 00      [10]  174 	ld	hl, #0x000c
   0071 E5            [11]  175 	push	hl
   0072 CDr00r00      [17]  176 	call	_putchar
   0075 F1            [10]  177 	pop	af
                            178 ;src/main.c:77: for (u8 n=0; n!= 30; ++n) {
   0076 0E 00         [ 7]  179 	ld	c, #0x00
   0078                     180 00118$:
   0078 79            [ 4]  181 	ld	a, c
   0079 D6 1E         [ 7]  182 	sub	a, #0x1e
   007B 28 5B         [12]  183 	jr	Z,00104$
                            184 ;src/main.c:78: for (u8 x=10; x!=20; ++x) {
   007D 06 0A         [ 7]  185 	ld	b, #0x0a
   007F                     186 00112$:
   007F 78            [ 4]  187 	ld	a, b
   0080 D6 14         [ 7]  188 	sub	a, #0x14
   0082 28 25         [12]  189 	jr	Z,00102$
                            190 ;src/main.c:79: TraceLine (15,15, x,10);//, points);
   0084 C5            [11]  191 	push	bc
   0085 3E 0A         [ 7]  192 	ld	a, #0x0a
   0087 F5            [11]  193 	push	af
   0088 33            [ 6]  194 	inc	sp
   0089 C5            [11]  195 	push	bc
   008A 33            [ 6]  196 	inc	sp
   008B 21 0F 0F      [10]  197 	ld	hl, #0x0f0f
   008E E5            [11]  198 	push	hl
   008F CDr00r00      [17]  199 	call	_TraceLine
   0092 F1            [10]  200 	pop	af
   0093 F1            [10]  201 	pop	af
   0094 C1            [10]  202 	pop	bc
                            203 ;src/main.c:80: TraceLine (15,15, x,20);//, points);
   0095 C5            [11]  204 	push	bc
   0096 3E 14         [ 7]  205 	ld	a, #0x14
   0098 F5            [11]  206 	push	af
   0099 33            [ 6]  207 	inc	sp
   009A C5            [11]  208 	push	bc
   009B 33            [ 6]  209 	inc	sp
   009C 21 0F 0F      [10]  210 	ld	hl, #0x0f0f
   009F E5            [11]  211 	push	hl
   00A0 CDr00r00      [17]  212 	call	_TraceLine
   00A3 F1            [10]  213 	pop	af
   00A4 F1            [10]  214 	pop	af
   00A5 C1            [10]  215 	pop	bc
                            216 ;src/main.c:78: for (u8 x=10; x!=20; ++x) {
   00A6 04            [ 4]  217 	inc	b
   00A7 18 D6         [12]  218 	jr	00112$
   00A9                     219 00102$:
                            220 ;src/main.c:82: for (u8 y=10; y<=20; ++y) {
   00A9 06 0A         [ 7]  221 	ld	b, #0x0a
   00AB                     222 00115$:
   00AB 3E 14         [ 7]  223 	ld	a, #0x14
   00AD 90            [ 4]  224 	sub	a, b
   00AE 38 25         [12]  225 	jr	C,00119$
                            226 ;src/main.c:83: TraceLine (15,15, 10,y);//, points);
   00B0 C5            [11]  227 	push	bc
   00B1 C5            [11]  228 	push	bc
   00B2 33            [ 6]  229 	inc	sp
   00B3 21 0F 0A      [10]  230 	ld	hl, #0x0a0f
   00B6 E5            [11]  231 	push	hl
   00B7 3E 0F         [ 7]  232 	ld	a, #0x0f
   00B9 F5            [11]  233 	push	af
   00BA 33            [ 6]  234 	inc	sp
   00BB CDr00r00      [17]  235 	call	_TraceLine
   00BE F1            [10]  236 	pop	af
   00BF F1            [10]  237 	pop	af
   00C0 C1            [10]  238 	pop	bc
                            239 ;src/main.c:84: TraceLine (15,15, 20,y);//, points);
   00C1 C5            [11]  240 	push	bc
   00C2 C5            [11]  241 	push	bc
   00C3 33            [ 6]  242 	inc	sp
   00C4 21 0F 14      [10]  243 	ld	hl, #0x140f
   00C7 E5            [11]  244 	push	hl
   00C8 3E 0F         [ 7]  245 	ld	a, #0x0f
   00CA F5            [11]  246 	push	af
   00CB 33            [ 6]  247 	inc	sp
   00CC CDr00r00      [17]  248 	call	_TraceLine
   00CF F1            [10]  249 	pop	af
   00D0 F1            [10]  250 	pop	af
   00D1 C1            [10]  251 	pop	bc
                            252 ;src/main.c:82: for (u8 y=10; y<=20; ++y) {
   00D2 04            [ 4]  253 	inc	b
   00D3 18 D6         [12]  254 	jr	00115$
   00D5                     255 00119$:
                            256 ;src/main.c:77: for (u8 n=0; n!= 30; ++n) {
   00D5 0C            [ 4]  257 	inc	c
   00D6 18 A0         [12]  258 	jr	00118$
   00D8                     259 00104$:
                            260 ;src/main.c:87: PrintAt(15,1, "Finished!",3);
   00D8 3E 03         [ 7]  261 	ld	a, #0x03
   00DA F5            [11]  262 	push	af
   00DB 33            [ 6]  263 	inc	sp
   00DC 21rECr00      [10]  264 	ld	hl, #___str_0
   00DF E5            [11]  265 	push	hl
   00E0 21 0F 01      [10]  266 	ld	hl, #0x010f
   00E3 E5            [11]  267 	push	hl
   00E4 CDr00r00      [17]  268 	call	_PrintAt
   00E7 F1            [10]  269 	pop	af
   00E8 F1            [10]  270 	pop	af
   00E9 33            [ 6]  271 	inc	sp
                            272 ;src/main.c:164: while (1);
   00EA                     273 00106$:
   00EA 18 FE         [12]  274 	jr	00106$
   00EC                     275 ___str_0:
   00EC 46 69 6E 69 73 68   276 	.ascii "Finished!"
        65 64 21
   00F5 00                  277 	.db 0x00
                            278 	.area _CODE
                            279 	.area _INITIALIZER
   0000                     280 __xinit__action:
   0000 00                  281 	.db #0x00	; 0
   0001                     282 __xinit__target:
   0001 00 00               283 	.dw #0x0000
   0003                     284 __xinit__edy:
   0003 00                  285 	.db #0x00	;  0
                            286 	.area _CABS (ABS)
