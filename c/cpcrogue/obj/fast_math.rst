                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.8 #9946 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module fast_math
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _manh_distance_to
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 ;--------------------------------------------------------
                             16 ; ram data
                             17 ;--------------------------------------------------------
                             18 	.area _DATA
                             19 ;--------------------------------------------------------
                             20 ; ram data
                             21 ;--------------------------------------------------------
                             22 	.area _INITIALIZED
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area _DABS (ABS)
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;src/fast_math.c:4: u16 manh_distance_to (u8 x1, u8 y1, u8 x2, u8 y2)
                             44 ;	---------------------------------
                             45 ; Function manh_distance_to
                             46 ; ---------------------------------
   48E6                      47 _manh_distance_to::
   48E6 DD E5         [15]   48 	push	ix
   48E8 DD 21 00 00   [14]   49 	ld	ix,#0
   48EC DD 39         [15]   50 	add	ix,sp
                             51 ;src/fast_math.c:8: dx = x2 - x1;
   48EE DD 7E 06      [19]   52 	ld	a, 6 (ix)
   48F1 DD 96 04      [19]   53 	sub	a, 4 (ix)
   48F4 6F            [ 4]   54 	ld	l, a
                             55 ;src/fast_math.c:9: dy = y2 - y1;
   48F5 DD 7E 07      [19]   56 	ld	a, 7 (ix)
   48F8 DD 96 05      [19]   57 	sub	a, 5 (ix)
   48FB 4F            [ 4]   58 	ld	c, a
   48FC CB 7D         [ 8]   59 	bit	7, l
   48FE 28 03         [12]   60 	jr	Z,00105$
   4900 AF            [ 4]   61 	xor	a, a
   4901 95            [ 4]   62 	sub	a, l
   4902 6F            [ 4]   63 	ld	l, a
   4903                      64 00105$:
                             65 ;src/fast_math.c:11: dx = abs (dx);
                             66 ;src/fast_math.h:9: return value < 0 ? -value : value;
   4903 CB 79         [ 8]   67 	bit	7, c
   4905 28 03         [12]   68 	jr	Z,00107$
   4907 AF            [ 4]   69 	xor	a, a
   4908 91            [ 4]   70 	sub	a, c
   4909 4F            [ 4]   71 	ld	c, a
   490A                      72 00107$:
                             73 ;src/fast_math.c:12: dy = abs (dy);
                             74 ;src/fast_math.c:14: return (dx + dy);
   490A 7D            [ 4]   75 	ld	a, l
   490B 17            [ 4]   76 	rla
   490C 9F            [ 4]   77 	sbc	a, a
   490D 67            [ 4]   78 	ld	h, a
   490E 79            [ 4]   79 	ld	a, c
   490F 17            [ 4]   80 	rla
   4910 9F            [ 4]   81 	sbc	a, a
   4911 47            [ 4]   82 	ld	b, a
   4912 09            [11]   83 	add	hl, bc
   4913 DD E1         [14]   84 	pop	ix
   4915 C9            [10]   85 	ret
                             86 	.area _CODE
                             87 	.area _INITIALIZER
                             88 	.area _CABS (ABS)
